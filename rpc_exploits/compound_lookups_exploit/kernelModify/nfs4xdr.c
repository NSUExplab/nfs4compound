//Put near с NFS4_enc_lookup_sz
#define NFS4_enc_my_lookups_sz (compound_encode_hdr_maxsz + \
                                encode_sequence_maxsz + \
                                 encode_putfh_maxsz + \
                                 encode_lookup_maxsz + \
                                 encode_lookup_maxsz + \
                                 encode_lookup_maxsz + \
                                 encode_lookup_maxsz + \
                                 encode_getattr_maxsz + \
                                 encode_getfh_maxsz)

//Put near NFS4_dec_lookup_sz
 #define NFS4_dec_my_lookups_sz      (compound_decode_hdr_maxsz + \
                                 	decode_sequence_maxsz + \
                                     decode_putfh_maxsz + \
                                    decode_lookup_maxsz + \
                                    decode_lookup_maxsz + \
                                    decode_lookup_maxsz + \
                                    decode_lookup_maxsz + \
                                    decode_getattr_maxsz + \
                                    decode_getfh_maxsz)
//Put near nfs4_xdr_enc_lookup

 static void nfs4_xdr_enc_my_lookups(struct rpc_rqst *req, struct xdr_stream *xdr, const struct nfs4_my_lookups_arg * args)
{
             struct compound_hdr hdr = {
                 .minorversion = nfs4_xdr_minorversion(&args->seq_args),
         };
 
         encode_compound_hdr(xdr, req, &hdr);
         encode_sequence(xdr, &args->seq_args, &hdr);
         encode_putfh(xdr, args->dir_fh, &hdr);
         encode_lookup(xdr, args->name, &hdr);
         encode_lookup(xdr, args->name2, &hdr);
         encode_lookup(xdr, args->name3, &hdr);
         encode_lookup(xdr, args->name4, &hdr);
         encode_getfh(xdr, &hdr);
         encode_getfattr(xdr, args->bitmask, &hdr);
         encode_nops(&hdr);
}


//Put near nfs4_xdr_dec_lookup

static int nfs4_xdr_dec_my_lookups(struct rpc_rqst *rqstp, struct xdr_stream *xdr,
                                struct nfs4_my_lookups_res *res)
 {
         struct compound_hdr hdr;
         int status;

         status = decode_compound_hdr(xdr, &hdr);
         if (status)
                 goto out;
         status = decode_sequence(xdr, &res->seq_res, rqstp);
         if (status)
                 goto out;
         status = decode_putfh(xdr);
         if (status)
                 goto out;
         status = decode_lookup(xdr);
         if (status)
                 goto out;
         status = decode_lookup(xdr);
         if (status)
                 goto out;
         status = decode_lookup(xdr);
         if (status)
                 goto out;
         status = decode_lookup(xdr);
         if (status)
                 goto out;
         status = decode_getfh(xdr, res->fh);
         if (status)
                 goto out;
         status = decode_getfattr_label(xdr, res->fattr, res->label, res->server);
out:
         return status;
}




PROC(MY_LOOKUPS,	enc_my_lookups,	dec_my_lookups), //put in table nfs4procedures.